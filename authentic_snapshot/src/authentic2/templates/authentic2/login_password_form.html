{% load i18n static gadjo %}

{% block login-block-title %}
{% endblock %}

{% block login %}
  <div class="cell--body">
    {% block form %}
      {% if authenticator.button_description %}
        <p>{{ authenticator.button_description }}</p>
      {% endif %}

      <form method="post" id="login-password-form" class="pk-mark-optional-fields">
        {% csrf_token %}
        {{ form|with_template }}
        {% block buttons %}
          <div class="buttons">
            <button class="submit-button" name="{{ submit_name }}">{% trans "Log in" %}</button>
            {% if cancel %}
              <button class="cancel-button" name="cancel" formnovalidate>{% trans 'Cancel' %}</button>
            {% endif %}
          </div>
        {% endblock %}
      </form>
      {{ form.media }}
    {% endblock %}

    {% block actions %}
      {% if can_reset_password or registration_authorized %}
        <div class="login-actions">
          <ul>
            {% if can_reset_password %}
              <li><p>→ {% trans "Forgot password?" %} <a href="{% url 'password_reset' %}{% if request.GET.next %}?next={{ request.GET.next|urlencode }}{% endif %}">{% trans "Reset it!" %}</a></p></li>
            {% endif %}
            {% if registration_authorized and not hide_login_registration_link %}
              <li><p>→ {% trans "Not a member?" %} <a href="{{ registration_url }}">{% trans "Register!" %}</a></p></li>
            {% endif %}
          </ul>
        </div>
      {% endif %}
    {% endblock %}
  </div>
{% endblock %}
