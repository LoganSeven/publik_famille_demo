<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hobo &amp; Hobo-agent (Orchestrator and Deployment Manager) — Publik Ecosystem</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="layout">
  <aside class="sidebar">
    <h2>Hobo &amp; Hobo-agent (Orchestrator and Deployment Manager)</h2>
    <input class="search" placeholder="Filter sections..." oninput="filterNav(this.value)">
    <ul>
      <li><a href="#summary--integration">Summary &amp; Integration</a></li>
      <li><a href="#philosophy--design--usage">Philosophy, Design &amp; Usage</a></li>
      <li><a href="#key-features--functions">Key Features &amp; Functions</a></li>
      <li><a href="#unknowns-or-gaps">Unknowns or Gaps</a></li>
      <li><a href="#suppositions">Suppositions</a></li>
    </ul>
    <hr style="margin:16px 0;border:none;border-top:1px solid var(--border)">
    <div class="small">
      <div><a href="index.html">← All modules</a></div>
      <div><a href="glossary.html">Glossary</a></div>
    </div>
  </aside>
  <main class="main">
    <div class="header">
      <div class="breadcrumbs"><a href="index.html">Modules</a> / Hobo &amp; Hobo-agent (Orchestrator and Deployment Manager)</div>
      <div>
        <a class="btn" href="glossary.html">Open Glossary</a>
      </div>
    </div>
    <h1>Hobo &amp; Hobo-agent (Orchestrator and Deployment Manager)</h1>

    <h2 id="summary--integration">Summary &amp; Integration</h2>
    <p><a class="term" href="glossary.html#hobo">Hobo</a> is Publik’s administration and orchestration portal, responsible for managing the various Publik services and providing multi-tenant support[58][59]. Together with <a class="term" href="glossary.html#hobo-agent"><a class="term" href="glossary.html#hobo">Hobo</a>-agent</a>, it forms the backbone that keeps all the modules (<a class="term" href="glossary.html#wcs">WCS</a>, <a class="term" href="glossary.html#combo">Combo</a>, <a class="term" href="glossary.html#passerelle">Passerelle</a>, etc.) coordinated and running across potentially multiple tenants and servers. In simpler terms, <a class="term" href="glossary.html#hobo">Hobo</a> is the “control tower” of a Publik installation: it handles deployment of the different apps, configuration sharing, and the provisioning of new tenant instances[59]. For integration, <a class="term" href="glossary.html#hobo">Hobo</a> interacts with every component – it likely manages each service’s configuration files, database connections, and knows how to start/stop services. It uses the <a class="term" href="glossary.html#django">Django</a> tenant-schemas library to enable multi-tenant operation, meaning one physical installation can host multiple logical portals (tenants) with separate data[59]. <a class="term" href="glossary.html#hobo-agent"><a class="term" href="glossary.html#hobo">Hobo</a>-agent</a> is a companion service (an agent/daemon) that runs on servers to execute tasks under <a class="term" href="glossary.html#hobo">Hobo</a>’s direction (like running background jobs or applying updates). In a multi-server environment, you might have one central <a class="term" href="glossary.html#hobo">Hobo</a> (with a web interface) and <a class="term" href="glossary.html#hobo-agent"><a class="term" href="glossary.html#hobo">Hobo</a>-agent</a> running on each node that hosts Publik services, ensuring commands and deployments get carried out. <a class="term" href="glossary.html#hobo">Hobo</a> provides a unified admin interface (likely a web <a class="term" href="glossary.html#ui">UI</a>) for system administrators to oversee the whole Publik platform rather than managing each module individually. For instance, creating a new tenant (a new city or agency in a multi-tenant SaaS environment) would be done through <a class="term" href="glossary.html#hobo">Hobo</a>, which in turn sets up the necessary database schemas and config for <a class="term" href="glossary.html#wcs">WCS</a>, <a class="term" href="glossary.html#combo">Combo</a>, etc., for that tenant. <a class="term" href="glossary.html#hobo">Hobo</a> is also integrated with the concept of feature flags or shared settings – when a global setting needs to propagate to all modules (like email server config or <a class="term" href="glossary.html#sso">SSO</a> config), <a class="term" href="glossary.html#hobo">Hobo</a> ensures it’s applied consistently.</p>

    <h2 id="philosophy--design--usage">Philosophy, Design &amp; Usage</h2>
    <p>The philosophy behind <a class="term" href="glossary.html#hobo">Hobo</a> is centralized orchestration with an emphasis on multi-tenancy and ease of maintenance. Instead of treating each module as an island, <a class="term" href="glossary.html#hobo">Hobo</a> offers a cohesive way to deploy and manage them as one system. The design leverages <a class="term" href="glossary.html#django">Django</a> for the administrative portal (so <a class="term" href="glossary.html#hobo">Hobo</a> itself is a <a class="term" href="glossary.html#django">Django</a> web app) and uses the django-tenant-schemas library to segregate data by tenant within the same database or cluster[59]. This indicates that each tenant might have its own schema or set of tables for each module, and <a class="term" href="glossary.html#hobo">Hobo</a> coordinates that – possibly automating the creation of those schemas and running migrations on them when modules are updated. <a class="term" href="glossary.html#hobo-agent"><a class="term" href="glossary.html#hobo">Hobo</a>-agent</a>’s design is to perform tasks that might need to run on each machine or in the background. For example, a recurring <a class="term" href="glossary.html#cron">Cron</a> job (like sending queued emails or daily maintenance) might be triggered by <a class="term" href="glossary.html#hobo">Hobo</a> but executed by hobo-agent on a specific server, to avoid duplication in a multi-node setup[60]. The usage of <a class="term" href="glossary.html#hobo">Hobo</a> for a devops team is significant: they would log into <a class="term" href="glossary.html#hobo">Hobo</a>’s interface to do things like configure domains for each tenant, update environment settings, or deploy new module versions (in a simplified way, maybe by clicking a deploy button or by running ansible via <a class="term" href="glossary.html#hobo">Hobo</a>). It may also track what version of each module is deployed – acting as a mini control panel for Publik. Design choices include having <a class="term" href="glossary.html#hobo">Hobo</a> serve as an administration portal separate from individual modules’ admin panels – this allows super-admins to have one place to manage all tenants and modules. The architecture likely follows a master-agent pattern: <a class="term" href="glossary.html#hobo">Hobo</a> (master) stores desired state and orchestrates, <a class="term" href="glossary.html#hobo-agent"><a class="term" href="glossary.html#hobo">Hobo</a>-agent</a> (agents) carry out operations on the ground. This ensures scalability and separation of concerns (<a class="term" href="glossary.html#hobo">Hobo</a> web <a class="term" href="glossary.html#ui">UI</a> remains responsive while heavy tasks are done by agents). <a class="term" href="glossary.html#hobo">Hobo</a> also manages shared configurations – for example, user directories or the <a class="term" href="glossary.html#sso">SSO</a> integration might be configured once in <a class="term" href="glossary.html#hobo">Hobo</a> and then applied to Authentic, <a class="term" href="glossary.html#combo">Combo</a>, etc., as needed[59]. In daily use, an admin might use <a class="term" href="glossary.html#hobo">Hobo</a> to onboard a new client (creating a tenant), adjust a configuration (like toggling a feature flag that enables/disables a new feature across modules), or monitor the health of services (if <a class="term" href="glossary.html#hobo">Hobo</a> also collates status info from hobo-agent, possibly it can report if a service is down).</p>

    <h2 id="key-features--functions">Key Features &amp; Functions</h2>
    <p><a class="term" href="glossary.html#hobo">Hobo</a>’s key features include multi-tenant management, configuration orchestration, service deployment/upgrade, and shared utilities. For multi-tenancy, <a class="term" href="glossary.html#hobo">Hobo</a> provides functions to create a new tenant, which would involve setting up a new schema in each database and updating routing so that tenant’s domain serves the correct data (for example, using django-tenant-schemas, the request’s host or a prefix determines the schema). <a class="term" href="glossary.html#hobo">Hobo</a> likely automates tasks like running database migrations for each tenant’s schema when the software updates – a critical function to keep all tenants in sync. The hobo-agent part likely has features to run management commands across tenants. Indeed, the code snippet from a bug trace shows hobo/multitenant/management/commands/tenant_command.py which runs a command for each tenant or a specific one[61]. This indicates <a class="term" href="glossary.html#hobo">Hobo</a>’s ability to loop through each tenant and execute a given command (like clearing caches, sending emails, anonymizing data, etc.) in isolation, which is extremely useful for operations. Configuration sharing means <a class="term" href="glossary.html#hobo">Hobo</a> might have a repository of settings that all modules read from (perhaps via a common file or database table), for things like <a class="term" href="glossary.html#smtp">SMTP</a> config, contact info, themes (some things might be global or reused). <a class="term" href="glossary.html#hobo">Hobo</a> likely ensures that these configs are present in each module’s settings at runtime – maybe by writing out files in /etc/&lt;module&gt;/settings.d/ as hinted by the <a class="term" href="glossary.html#ha">HA</a> guide[30][62], which shows an example of setting database configs via files in each component’s directory (those could be templated or managed by <a class="term" href="glossary.html#hobo">Hobo</a>). Another function is starting/stopping services: <a class="term" href="glossary.html#hobo">Hobo</a> might not directly replace system tools like systemd, but it could integrate with them or at least provide a command to restart a service after configuration changes. <a class="term" href="glossary.html#hobo-agent"><a class="term" href="glossary.html#hobo">Hobo</a>-agent</a> might actually perform those restarts on instruction. Deployment wise, if there is an update (say a new version of <a class="term" href="glossary.html#wcs">WCS</a>), <a class="term" href="glossary.html#hobo">Hobo</a> could coordinate taking each tenant through migrations and possibly orchestrating rolling restarts, though this may be done via external tools (like Ansible scripts, e.g., the Publik Installation Développeur ansible project[63], but <a class="term" href="glossary.html#hobo">Hobo</a> might have knowledge of it). Additionally, <a class="term" href="glossary.html#hobo">Hobo</a> likely offers monitoring hooks – perhaps not as advanced as a dedicated monitoring system, but at least it might record which versions are deployed and any errors agents encounter. <a class="term" href="glossary.html#hobo-agent"><a class="term" href="glossary.html#hobo">Hobo</a>-agent</a>’s key functions are to execute scheduled tasks (like <a class="term" href="glossary.html#cron">Cron</a> jobs). The admin guide indicated that <a class="term" href="glossary.html#cron">Cron</a> jobs should only run on one node for each component[60], possibly <a class="term" href="glossary.html#hobo-agent"><a class="term" href="glossary.html#hobo">Hobo</a>-agent</a> ensures that by either centralizing cron or by coordinating so only one agent runs them. Another important feature is tenant isolation: ensuring that a request for tenant A never leaks data from tenant B. <a class="term" href="glossary.html#hobo">Hobo</a>’s use of the multitenant library enforces that, and <a class="term" href="glossary.html#hobo">Hobo</a> itself would manage the context switching. Summing up, <a class="term" href="glossary.html#hobo">Hobo</a> and <a class="term" href="glossary.html#hobo-agent"><a class="term" href="glossary.html#hobo">Hobo</a>-agent</a> provide the vital glue that binds the Publik modules into one system, taking care of things that would otherwise require manual sysadmin work for each module.</p>

    <h2 id="unknowns-or-gaps">Unknowns or Gaps</h2>
    <p>Being more of an internal infrastructure component, <a class="term" href="glossary.html#hobo">Hobo</a> is not extensively described in public-facing docs. One unknown is the extent of <a class="term" href="glossary.html#hobo">Hobo</a>’s web interface capabilities – how user-friendly is it, and what exactly can you do from it? There’s mention it’s a “portail d’administration”[58], but no screenshots or detailed feature list. It’s unclear if, for instance, you can add a tenant entirely through <a class="term" href="glossary.html#ui">UI</a> or if some <a class="term" href="glossary.html#cli">CLI</a> is needed for certain aspects. Also unclear is how <a class="term" href="glossary.html#hobo">Hobo</a> interacts with containerization or cloud deployments (if at all) – Publik is typically deployed on servers directly, but if someone containerized each component, would <a class="term" href="glossary.html#hobo">Hobo</a> still manage them? Possibly not directly; that might require adaptation. Another gap is what precisely <a class="term" href="glossary.html#hobo-agent"><a class="term" href="glossary.html#hobo">Hobo</a>-agent</a> covers. Does every Publik module have a corresponding hobo-agent process for its tasks, or is there one agent per server that can act on all modules? The naming suggests one agent service that can handle various tasks as commanded. But without documentation, we don’t know if hobo-agent is primarily for running the multi-tenant commands (like a runner for tenant_command) and performing maintenance tasks, or if it also monitors things like file changes or coordinates <a class="term" href="glossary.html#nfs">NFS</a> mounts (the <a class="term" href="glossary.html#ha">HA</a> guide shows <a class="term" href="glossary.html#nfs">NFS</a> usage[64] – maybe not directly in agent’s scope but part of deploy). The boundary between what <a class="term" href="glossary.html#hobo">Hobo</a> does and what an external config management (like Ansible) does is somewhat blurred. Possibly large parts of deployment (like installing package updates) are still done outside of <a class="term" href="glossary.html#hobo">Hobo</a>’s control. Also unknown is how <a class="term" href="glossary.html#hobo">Hobo</a> manages feature flags (mentioned in the admin guide index[65]). Are those toggles stored in <a class="term" href="glossary.html#hobo">Hobo</a> and propagated to modules at runtime? If so, that’s a powerful but under-documented mechanism. For multi-tenant data isolation, while we know the library used, how strictly it’s enforced (for example, do modules query using the tenant context by default? presumably yes) would require reading code. Lastly, it’s not publicly described how <a class="term" href="glossary.html#hobo">Hobo</a> ensures only one <a class="term" href="glossary.html#cron">Cron</a> runs – maybe by writing DISABLE_CRON_JOBS = True in all but one node’s settings as mentioned[60], which implies some coordination manual or via puppet rather than dynamic at runtime. So, some orchestration might still rely on sysadmin decisions (like deciding which node runs cron jobs).</p>

    <h2 id="suppositions">Suppositions</h2>
    <p>We suppose that <a class="term" href="glossary.html#hobo">Hobo</a> (and <a class="term" href="glossary.html#hobo-agent"><a class="term" href="glossary.html#hobo">Hobo</a>-agent</a>) will continue to evolve as the needs of multi-tenant hosting grow. One area of likely focus is automation of deployment and upgrades. Perhaps future <a class="term" href="glossary.html#hobo">Hobo</a> versions will integrate more with package management to know when new versions of modules are available and assist in rolling them out (maybe partially done via the Scrutiny tool[66] which tracks deployed versions – possibly <a class="term" href="glossary.html#hobo">Hobo</a> is aware of that data). We guess that <a class="term" href="glossary.html#hobo">Hobo</a> could incorporate more monitoring – for example, showing at a glance if all services are up for each tenant, or if any background tasks failed. Given the complexity of multi-tenant, <a class="term" href="glossary.html#hobo">Hobo</a> might get features to clone or backup tenant data easily (e.g., for creating a staging copy of a tenant). <a class="term" href="glossary.html#hobo-agent"><a class="term" href="glossary.html#hobo">Hobo</a>-agent</a> might see enhancements in task scheduling, possibly even replacing system <a class="term" href="glossary.html#cron">Cron</a> for Publik jobs by a central schedule (ensuring exactly once execution in a cluster). We also think a potential development is better <a class="term" href="glossary.html#ui">UI</a> for multi-tenant schema management – maybe <a class="term" href="glossary.html#hobo">Hobo</a> will allow applying a schema migration to all tenants with a click, showing progress. Another supposition: <a class="term" href="glossary.html#hobo">Hobo</a> could manage tenancy beyond database – maybe orchestrating separate file storage per tenant (like separate media file areas, though currently those might all be under <a class="term" href="glossary.html#nfs">NFS</a> as shared). If Publik moves toward containerized deployments, <a class="term" href="glossary.html#hobo">Hobo</a>’s role might shift to managing containers rather than processes, but that is speculative and would be a major change. For now, likely <a class="term" href="glossary.html#hobo">Hobo</a> stays as the coordinator for multi-tenant in a traditional server setup. We also anticipate improvements in shared configuration management; for instance, if a new module is added to Publik, <a class="term" href="glossary.html#hobo">Hobo</a> might be updated to include global config for it so it’s easier to integrate. Since <a class="term" href="glossary.html#hobo">Hobo</a> is critical for maintainers (rather than end-users), any improvements might lean towards making upgrades and multi-tenant expansions safer and simpler. A new developer approaching <a class="term" href="glossary.html#hobo">Hobo</a> should expect to interact with it primarily for operational tasks – we suppose learning <a class="term" href="glossary.html#hobo">Hobo</a> involves understanding how tenants are structured and how <a class="term" href="glossary.html#hobo">Hobo</a>’s database (probably the public schema in the database) tracks tenant info and global settings. In conclusion, <a class="term" href="glossary.html#hobo">Hobo</a> and hobo-agent are likely to quietly improve in the background, supporting the scaling of Publik to more clients and easing the life of the platform operators, while remaining mostly invisible to end-users (who just see their services working). Their future might bring even tighter integration of all modules’ lifecycle management under one roof (the <a class="term" href="glossary.html#hobo">Hobo</a> <a class="term" href="glossary.html#ui">UI</a>), reinforcing the <a class="term" href="glossary.html#scop">SCOP</a> Entr’ouvert’s ability to host many instances of Publik efficiently.</p>
<p>[1] [4] [6] [14] [15] [24] [25] [26] [27] [29] [54] [55] [56] Publik - Vue d’ensemble sur les connecteurs</p>
<p>https://doc-publik.entrouvert.com/dev/connecteurs/</p>
<p>[2] [3] [5] [7] [33] [34] [35] [36] Produits | Entr&#x27;ouvert</p>
<p>https://www.entrouvert.com/que-faisons-nous/e-administration/les-logiciels/</p>
<p>[8] [9] [42] [43] [44] [50] [51] [52] [53] [57] [58] [63] [66] Redmine Entr’ouvert</p>
<p>https://dev.entrouvert.org/</p>
<p>[10] [28] [32] [37] [38] [39] [41] deb.entrouvert.org</p>
<p>https://deb.entrouvert.org/</p>
<p>[11] <a class="term" href="glossary.html#combo">Combo</a> - Bug #100449</p>
<p>https://dev.entrouvert.org/issues/100449.pdf</p>
<p>[12] [13] [16] [17] [18] [19] [22] Overview - <a class="term" href="glossary.html#wcs">w.c.s.</a> - Redmine Entr’ouvert</p>
<p>https://dev.entrouvert.org/projects/wcs</p>
<p>[20] [21] [23] [31] [48] management.py</p>
<p>https://github.com/LoganSeven/publik_famille_demo/blob/2539ed048928e69c8339d52cba8bf1929c2ffc82/wcs_snapshot/wcs/backoffice/management.py</p>
<p>[30] [60] [62] [64] [65] Publik - Haute disponibilité</p>
<p>https://doc-publik.entrouvert.com/guide-de-l-administrateur-systeme/installation/haute-disponibilite/</p>
<p>[40] Overview - <a class="term" href="glossary.html#fargo">Fargo</a> - Redmine Entr’ouvert</p>
<p>https://dev.entrouvert.org/projects/fargo</p>
<p>[45] [47] [49] Wiki - <a class="term" href="glossary.html#chrono">Chrono</a> - Redmine Entr’ouvert</p>
<p>https://dev.entrouvert.org/projects/chrono/wiki</p>
<p>[46] [61] Bug #105526: anonymize_bookings: ValueError: 1 - <a class="term" href="glossary.html#chrono">Chrono</a> - Redmine Entr’ouvert</p>
<p>https://dev.entrouvert.org/issues/105526</p>
<p>[59] Publik - Contribuer à Publik</p>
<p>https://doc-publik.entrouvert.com/dev/contribuer-a-publik/</p>

    <div class="nav-pager">
      <div><a class="btn" href="lingo-payments-and-billing-module.html">← Lingo (Payments &amp; Billing Module)</a></div>
      <div></div>
    </div>

    <div class="footer small"></div>
  </main>
</div>
<script>
function filterNav(q){
  q=(q||'').toLowerCase();
  document.querySelectorAll('.sidebar li').forEach(function(li){
    var a = li.querySelector('a'); if(!a) return;
    li.style.display = a.textContent.toLowerCase().indexOf(q) !== -1 ? '' : 'none';
  });
}
</script>
</body>
</html>
